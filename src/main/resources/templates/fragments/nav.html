<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
  <head th:fragment="menu(title)">
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Clean Blog</title>
    <!-- Font Awesome icons (free version) -->
    <script
      src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <!-- <link href="css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet" /> -->
    <link
      href="css/sidebar.css"
      th:href="@{/css/sidebar.css}"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navigation-->
    <div class="l-navbar" id="navbar" th:fragment="menu(menu)">
      <nav class="nav">
        <div>
          <div class="nav__brand">
            <ion-icon
              name="menu-outline"
              class="nav__toggle"
              id="nav-toggle"
            ></ion-icon>
            <div class="nav__logo" sec:authorize="isAuthenticated()">
              <ion-icon
                sec:authorize="hasRole('ROLE_USER')"
                name="paw"
              ></ion-icon>
              <ion-icon
                sec:authorize="hasRole('ROLE_ADMIN')"
                name="planet"
              ></ion-icon>
              <span sec:authentication="name">User</span>
            </div>
          </div>
          <div class="nav__list">
            <a
              href="#"
              th:href="@{/}"
              class="nav__link"
              th:classappend="${menu} == 'HOME' ? 'active'"
            >
              <ion-icon name="home-outline" class="nav__icon"></ion-icon>
              <span class="nav__name">Home</span>
            </a>
            <a
              href="#"
              th:href="@{/guest}"
              class="nav__link"
              th:classappend="${menu} == 'GUEST BOOK' ? 'active'"
            >
              <ion-icon name="chatbubbles-outline" class="nav__icon"></ion-icon>
              <span class="nav__name">Guest Book</span>
            </a>
            <div
              class="nav__link collapsed"
              th:href="@{/}"
              th:classappend="${menu} == 'HOME' ? 'active'"
            >
              <ion-icon name="folder-outline" class="nav__icon"></ion-icon>
              <span class="nav__name">Projects</span>

              <ion-icon
                name="chevron-down-outline"
                class="collapse__link"
              ></ion-icon>

              <ul class="collapse__menu">
                <a href="#" th:href="@{/}" class="collapse__sublink">All</a>
                <a href="#" th:href="@{/}" class="collapse__sublink">Back</a>
                <a href="#" th:href="@{/}" class="collapse__sublink">Front</a>
                <a href="#" th:href="@{/}" class="collapse__sublink">Mobile</a>
              </ul>
            </div>
            <a
              href="#"
              class="nav__link"
              th:href="@{/contact}"
              th:classappend="${menu} == 'CONTACT' ? 'active'"
            >
              <ion-icon name="pie-chart-outline" class="nav__icon"></ion-icon>
              <span class="nav__name">Contact</span>
            </a>
          </div>
        </div>
        <a
          href="#"
          class="nav__link"
          th:href="@{/account/login}"
          sec:authorize="!isAuthenticated()"
        >
          <ion-icon name="log-in-outline" class="nav__icon"></ion-icon>
          <span class="nav__name">LogIn</span>
        </a>
        <form
          th:action="@{/logout}"
          method="post"
          sec:authorize="isAuthenticated()"
        >
          <button type="submit" class="btn-logout nav__link">
            <ion-icon name="log-out-outline" class="nav__icon"></ion-icon>
            <span class="nav__name">Logout</span>
          </button>
        </form>
      </nav>
    </div>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script src="js/dropdown.js"></script>
  </body>
</html>
